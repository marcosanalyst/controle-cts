<div class="container">
  <h2>Meus Testes</h2>

  <!-- üîç Filtro por Respons√°vel -->
  <div class="filtros">
    <label>
      Respons√°vel:
      <select [(ngModel)]="responsavelSelecionadoId" (change)="filtrarPorResponsavel()">
        <option [ngValue]="null">Selecione um respons√°vel</option>
        <option *ngFor="let r of responsaveis" [ngValue]="r.id">
          {{ r.nome }}
        </option>
      </select>
    </label>
  </div>
  
  <table *ngIf="testesFiltrados.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nome</th>
      <th>Cliente</th>
      <th>Categoria</th>
      <th>Respons√°vel</th>
      <th>Estado</th>
      <th>Impedimento</th>
      <th>Data Cria√ß√£o</th>
      <th>Data Finaliza√ß√£o</th>
      <th>A√ß√µes</th> <!-- üëà Nova coluna -->
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let t of testesFiltrados">
      <td>{{ t.id }}</td>
      <td>{{ t.nome }}</td>
      <td>{{ nomeCliente(t.clienteId) }}</td>
      <td>{{ nomeCategoria(t.categoriaId) }}</td>
      <td>{{ nomeResponsavel(t.responsavelId) }}</td>
      <td>{{ t.estado }}</td>
      <td>{{ t.impedimento }}</td>
      <td>{{ t.dataCriacao ? (t.dataCriacao | date: 'dd/MM/yyyy HH:mm') : '‚Äî' }}</td>
      <td>{{ t.dataFinalizacao ? (t.dataFinalizacao.toString() | date: 'dd/MM/yyyy HH:mm') : '‚Äî' }}</td>
      <td>
        <button (click)="editar(t)">Editar</button>
        <button (click)="excluir(t.id)">Excluir</button>
      </td>
    </tr>
  </tbody>
</table>

<p *ngIf="testesFiltrados.length === 0">
  Nenhum teste encontrado para o respons√°vel selecionado.
</p>
